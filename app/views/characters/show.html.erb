<div class="container">
  <div class="row">
    <div class="col-12 col-lg-8">
      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner rounded my-3">
        <% @character.photos.each do |photo| %>
          <div class="carousel-item active">
            <%= cl_image_tag photo.key, class: "d-block w-100" %>
          </div>
        <% end %>
          <div class="carousel-item">
            <img src="images/bedroom.jpg" class="d-block w-100" alt="...">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>

      <h1>Lovely flat in Shoreditch, East London</h1>
      <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Placeat blanditiis, asperiores quas officia, eius aspernatur illo quasi, natus unde magni quis labore eum impedit beatae voluptatem nostrum pariatur repellat quibusdam.</p>
    </div>

    <div class="col-12 col-lg-4">
      <form action="" class="border rounded p-3">
        <h2>Book this character</h2>
        <div class="form-group">
          <label for="">Arrival</label>
          <input type="date" class="form-control">
        </div>
        <div class="form-group">
          <label for="">Departure</label>
          <input type="date" class="form-control">
        </div>
        <input type="submit" class="btn btn-primary w-100" value="Book now">
      </form>
    </div>
</div>

<div class="container bg-gray">


  <h1><%= @character.name %></h1>
  <p>Description: <%= @character.description %></p>
  <p>Price: $<%= @character.price %></p>
  <p>Category: <%= @character.category %></p>
  <p>Location: <%= @character.address %></p>

  <% unless @character.user == current_user %>
    <%= simple_form_for([@character, @booking]) do |f| %>
    <%= f.input :start_date %>
    <%= f.input :end_date %>
    <%= f.submit %>
    <% end %>
  <% end %>

  <div>
    <% if @character.user == current_user %>
      <%= link_to 'Edit', edit_character_path(@character) %>
    <% end %>
  </div>

  <div>
    <% if @character.user == current_user %>
      <%= link_to 'Delete', delete_character_path(@character), data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' }%>
    <% end %>
  </div>

  <div style="width: 75%; height: 600px;"
    data-controller="map"
    data-map-marker-value="<%= @marker.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>
